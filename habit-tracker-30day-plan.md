# 習慣トラッカー開発 30日計画

## 📋 プロジェクト概要

**目標**: 毎日30分のプログラミングで、React + TypeScriptを使った習慣トラッカーアプリを完成させる

**技術スタック**:
- React 18
- TypeScript
- LocalStorage（データ永続化）
- Recharts（グラフ表示）

**開発環境**:
- Node.js
- Visual Studio Code
- npm/npx

---

## 🎯 全体の学習目標

### 第1週: 基礎構築
- useState でのデータ管理
- 配列操作（map, filter）
- イベントハンドリング
- 制御されたフォーム

### 第2週: データ永続化とカレンダー
- useEffect の活用
- LocalStorage の使い方
- 日付操作
- 複雑なデータ構造の管理

### 第3週: 統計とユーザビリティ
- データ集計・計算
- UI/UXの改善
- レスポンシブデザイン

### 第4週: 高度な機能
- グラフ表示（Recharts）
- データのインポート/エクスポート
- パフォーマンス最適化

---

## 📅 第1週: 基礎構築

### Day 1 (30分): プロジェクト開始と基本表示

**目標**: プロジェクトのセットアップと最初の画面表示

**学習内容**:
- create-react-app の使い方
- Reactコンポーネントの基本構造
- JSX の書き方

**実装課題**:
1. TypeScript版Reactプロジェクトを作成
   ```bash
   npx create-react-app habit-tracker --template typescript
   cd habit-tracker
   npm start
   ```
2. 不要なファイルを削除（logo.svg, App.test.tsxなど）
3. App.tsxに「習慣トラッカー」というタイトルを表示
4. 基本的なCSSでスタイリング

**成果物**: タイトルが表示されるシンプルな画面

---

### Day 2 (30分): 習慣リストの表示

**目標**: useStateを使った状態管理とリスト表示

**学習内容**:
- useState フックの基本
- 配列のmap()メソッド
- TypeScriptの型定義（型注釈）

**実装課題**:
1. useStateで習慣の配列を管理
   ```typescript
   const [habits, setHabits] = useState<string[]>([
     '30分プログラミング',
     '運動する',
     '読書する'
   ]);
   ```
2. map()を使って習慣をリスト表示
3. 各習慣にチェックボックスとラベルを追加

**成果物**: 3つの習慣が表示され、チェックボックスが付いている画面

**重要なポイント**:
- `key`属性の必要性
- useStateは「読み取り専用」の値と「更新関数」のペア

---

### Day 3 (30分): 習慣の追加機能

**目標**: フォームからの入力とデータの追加

**学習内容**:
- 制御されたコンポーネント（Controlled Component）
- イベントハンドラ
- スプレッド構文による配列の追加

**実装課題**:
1. 入力フォームを作成
   ```typescript
   const [newHabit, setNewHabit] = useState<string>('');
   ```
2. onChange イベントで入力値を管理
3. 追加ボタンのクリックで配列に追加
   ```typescript
   setHabits([...habits, newHabit]);
   ```
4. Enterキーでも追加できるようにする

**成果物**: 新しい習慣を追加できる機能

**重要なポイント**:
- valueとonChangeの両方が必要
- trim()で空白チェック
- 追加後は入力欄をクリア

---

### Day 4 (30分): 習慣の削除機能

**目標**: filter()を使った要素の削除

**学習内容**:
- filter()メソッド
- アロー関数でのイベントハンドラ
- Reactの不変性（immutability）

**実装課題**:
1. 各習慣に削除ボタンを追加
2. filter()を使って削除処理を実装
   ```typescript
   setHabits(habits.filter((_, index) => index !== indexToDelete));
   ```
3. 削除ボタンのスタイリング

**成果物**: 削除ボタンで習慣を削除できる機能

**重要なポイント**:
- `onClick={() => deleteHabit(index)}` のようにアロー関数で包む
- 元の配列は変更せず、新しい配列を作成

---

### Day 5 (30分): 今日の日付とチェック機能

**目標**: チェック状態の管理と日付表示

**学習内容**:
- オブジェクトの配列の管理
- TypeScriptのインターフェース
- Date オブジェクトの基本

**実装課題**:
1. 習慣の型をオブジェクトに変更
   ```typescript
   interface Habit {
     id: number;
     name: string;
     isChecked: boolean;
   }
   ```
2. 今日の日付を表示
3. チェックボックスの状態を管理
4. map()で特定の要素だけ更新
   ```typescript
   setHabits(habits.map(habit => 
     habit.id === id 
       ? { ...habit, isChecked: !habit.isChecked }
       : habit
   ));
   ```

**成果物**: チェックのON/OFFができる機能と日付表示

**重要なポイント**:
- スプレッド構文でプロパティの一部だけ上書き
- checked属性で状態を制御

---

### Day 6 (30分): データ構造の改善

**目標**: 複数日のチェック履歴を保存できる構造に変更

**学習内容**:
- YYYY-MM-DD形式の日付文字列
- includes()メソッド
- 配列への追加と削除

**実装課題**:
1. データ構造を変更
   ```typescript
   interface Habit {
     id: number;
     name: string;
     completedDates: string[];  // 完了日の配列
   }
   ```
2. 日付をYYYY-MM-DD形式で生成
   ```typescript
   const todayString = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;
   ```
3. チェック処理を完了日の追加/削除に変更
4. 完了回数を表示

**成果物**: 日付ベースでチェック履歴を管理できる構造

**重要なポイント**:
- 文字列型を使う理由（LocalStorage対応、比較が簡単）
- padStart()でゼロ埋め

---

### Day 7 (30分): 復習と調整

**目標**: コードの品質向上と次週の準備

**実装課題**:
1. コードに詳細なコメントを追加
2. 関数を論理的なセクションに整理
3. CSSでデザインを改善
   - グラデーション背景
   - ホバーエフェクト
   - レスポンシブ対応
4. 習慣がない時の空の状態を追加
5. GitHubにコミット

**成果物**: 整理されたコードと洗練されたUI

**チェックリスト**:
- [ ] 習慣の追加ができる
- [ ] 習慣を削除できる
- [ ] チェックのON/OFFができる
- [ ] 完了回数が表示される
- [ ] スマホでも見やすい

---

## 📅 第2週: データ永続化とカレンダー

### Day 8 (30分): LocalStorage保存

**目標**: データの永続化

**学習内容**:
- useEffect フックの基本
- LocalStorage API
- JSON.stringify() と JSON.parse()
- 依存配列の仕組み

**実装課題**:
1. useEffectでLocalStorageに自動保存
   ```typescript
   useEffect(() => {
     localStorage.setItem('habits', JSON.stringify(habits));
   }, [habits]);
   ```
2. 起動時にLocalStorageからデータを読み込み
   ```typescript
   const loadHabits = () => {
     const saved = localStorage.getItem('habits');
     return saved ? JSON.parse(saved) : defaultHabits;
   };
   ```
3. エラーハンドリング（try-catch）
4. データリセット機能

**成果物**: リロード後もデータが保持される機能

**重要なポイント**:
- 依存配列 `[habits]` でhabits変更時のみ実行
- JSON化できるデータ構造にする

---

### Day 9 (30分): カレンダー表示の準備

**目標**: 過去の日付配列を生成

**学習内容**:
- 日付計算
- Array.from() での配列生成
- Date オブジェクトの操作

**実装課題**:
1. 過去7日分の日付配列を生成
   ```typescript
   const getLast7Days = () => {
     return Array.from({ length: 7 }, (_, i) => {
       const date = new Date();
       date.setDate(date.getDate() - i);
       return formatDate(date);
     }).reverse();
   };
   ```
2. 日付を横に並べて表示
3. 曜日も表示

**成果物**: 過去7日分の日付が横に並んだヘッダー

**重要なポイント**:
- setDate()で日付を操作
- reverse()で古い順に並べる

---

### Day 10 (30分): チェックマーク表示

**目標**: カレンダー形式でのチェック履歴表示

**学習内容**:
- 二重ループ（習慣 × 日付）
- CSSグリッドレイアウト
- 条件付きレンダリング

**実装課題**:
1. 習慣 × 日付のマトリックス表示
   ```typescript
   {habits.map(habit => (
     <div key={habit.id}>
       {dates.map(date => (
         <div key={date}>
           {habit.completedDates.includes(date) ? '✓' : ''}
         </div>
       ))}
     </div>
   ))}
   ```
2. CSSグリッドでレイアウト
3. 完了済みの日に✓マークを表示

**成果物**: GitHubのような貢献度カレンダー風の表示

---

### Day 11 (30分): 過去の日付のチェック

**目標**: 過去の日付も編集可能に

**学習内容**:
- 動的な日付の処理
- 関数の引数で日付を指定

**実装課題**:
1. toggleCheck関数に日付パラメータを追加
   ```typescript
   const toggleCheck = (id: number, date: string) => {
     // dateを使ってチェック処理
   };
   ```
2. カレンダーのセルをクリック可能に
3. クリックで過去の日付のチェックを追加/削除

**成果物**: 過去の記録も編集できる機能

---

### Day 12 (30分): カレンダー範囲の拡張

**目標**: より長期間の履歴表示

**実装課題**:
1. 過去30日分を表示
2. 横スクロール可能にする
3. スクロールのスタイリング改善

**成果物**: 1ヶ月分の履歴が見られるカレンダー

---

### Day 13 (30分): 週の表示切り替え

**目標**: 表示期間の切り替え機能

**学習内容**:
- 状態による表示の切り替え
- 複数の日付範囲の生成

**実装課題**:
1. 「今週」「先週」「先々週」ボタンを追加
2. useState で表示期間を管理
3. ボタンクリックで表示を切り替え

**成果物**: 週単位でカレンダーを切り替えられる機能

---

### Day 14 (30分): デザイン改善

**目標**: カレンダーの視覚的な改善

**実装課題**:
1. グリッドレイアウトの調整
2. 色分け（達成/未達成）
3. ホバーエフェクト
4. モバイル対応の調整

**成果物**: 洗練されたカレンダーデザイン

---

## 📅 第3週: 統計とユーザビリティ

### Day 15 (30分): 達成率の計算

**目標**: 統計情報の表示

**学習内容**:
- 配列のlengthプロパティ
- パーセンテージ計算
- toFixed()での小数点制御

**実装課題**:
1. 各習慣の達成日数をカウント
2. 達成率をパーセンテージで計算
   ```typescript
   const rate = (completedDates.length / totalDays * 100).toFixed(1);
   ```
3. 達成率を表示

**成果物**: 各習慣の達成率表示

---

### Day 16 (30分): 連続記録（ストリーク）

**目標**: 連続達成日数の計算

**学習内容**:
- 日付の連続性チェック
- ループとカウンター

**実装課題**:
1. 連続達成日数を計算するアルゴリズム
   ```typescript
   const calculateStreak = (dates: string[]) => {
     // 今日から遡って連続している日数を数える
   };
   ```
2. 「🔥3日連続」のように表示
3. 最長記録も表示

**成果物**: ストリーク表示機能

**重要なポイント**:
- 日付配列をソート
- 1日ずつ遡ってチェック

---

### Day 17 (30分): 全体統計

**目標**: 期間別の統計表示

**実装課題**:
1. 今週の達成率を計算
2. 今月の達成率を計算
3. 総達成日数を表示
4. 統計パネルのデザイン

**成果物**: ダッシュボード風の統計表示

---

### Day 18 (30分): 習慣の編集機能

**目標**: 習慣名の編集

**学習内容**:
- インライン編集
- 編集モードの状態管理

**実装課題**:
1. ダブルクリックで編集モードに
2. 編集中の状態を管理
   ```typescript
   const [editingId, setEditingId] = useState<number | null>(null);
   ```
3. 編集完了で名前を更新

**成果物**: 習慣名を編集できる機能

---

### Day 19 (30分): 色やアイコンの追加

**目標**: 習慣のカスタマイズ

**実装課題**:
1. 習慣に色プロパティを追加
   ```typescript
   interface Habit {
     // ...
     color: string;
   }
   ```
2. 色選択UI（カラーピッカーまたはプリセット）
3. または絵文字を選択できるように

**成果物**: 習慣ごとに色やアイコンを設定できる機能

---

### Day 20 (30分): ソート機能

**目標**: 習慣の順番変更

**実装課題**:
1. 上下移動ボタンを追加
2. 配列の要素を入れ替える関数
   ```typescript
   const moveHabit = (index: number, direction: 'up' | 'down') => {
     const newHabits = [...habits];
     // 要素を入れ替え
   };
   ```

**成果物**: 習慣の表示順を変更できる機能

---

### Day 21 (30分): レスポンシブ対応

**目標**: モバイルデバイスでの使いやすさ向上

**実装課題**:
1. メディアクエリの追加
2. タッチ操作の最適化
3. フォントサイズの調整
4. レイアウトの最適化

**成果物**: スマホで快適に使えるUI

---

## 📅 第4週: 高度な機能

### Day 22 (30分): 目標設定

**目標**: 習慣ごとの目標管理

**学習内容**:
- 目標値との比較
- 進捗率の計算

**実装課題**:
1. 習慣に目標回数を追加
   ```typescript
   interface Habit {
     // ...
     goalPerWeek: number;
   }
   ```
2. 目標達成状況を表示
3. プログレスバーで視覚化

**成果物**: 目標設定と進捗表示機能

---

### Day 23 (30分): グラフ表示の準備

**目標**: Rechartsライブラリの導入

**学習内容**:
- 外部ライブラリのインストール
- Rechartsの基本的な使い方

**実装課題**:
1. Rechartsをインストール
   ```bash
   npm install recharts
   ```
2. 簡単な棒グラフを表示
3. サンプルデータで動作確認

**成果物**: 基本的なグラフ表示

---

### Day 24 (30分): 週次グラフ

**目標**: 週ごとの達成数をグラフ化

**実装課題**:
1. 週ごとのデータを集計
   ```typescript
   const getWeeklyData = () => {
     // 各週の達成数を計算
   };
   ```
2. 棒グラフで表示
3. 複数の習慣を色分けで表示

**成果物**: 週次の進捗グラフ

---

### Day 25 (30分): ヒートマップ風表示

**目標**: GitHubのような貢献度表示

**実装課題**:
1. 達成度を色の濃さで表現
2. CSSで色のグラデーション
3. ツールチップで詳細表示

**成果物**: ヒートマップスタイルのカレンダー

---

### Day 26 (30分): エクスポート機能

**目標**: データのバックアップ

**学習内容**:
- Blob API
- ダウンロードの仕組み

**実装課題**:
1. データをJSON形式でダウンロード
   ```typescript
   const exportData = () => {
     const data = JSON.stringify(habits, null, 2);
     const blob = new Blob([data], { type: 'application/json' });
     const url = URL.createObjectURL(blob);
     // ダウンロード処理
   };
   ```
2. ファイル名に日付を含める

**成果物**: データエクスポート機能

---

### Day 27 (30分): インポート機能

**目標**: データの復元

**学習内容**:
- FileReader API
- ファイルアップロード

**実装課題**:
1. ファイル選択UI
2. JSONファイルを読み込み
   ```typescript
   const importData = (file: File) => {
     const reader = new FileReader();
     reader.onload = (e) => {
       const data = JSON.parse(e.target?.result as string);
       setHabits(data);
     };
     reader.readAsText(file);
   };
   ```
3. データの検証（エラーチェック）

**成果物**: データインポート機能

---

### Day 28 (30分): 最終調整

**目標**: アプリの完成度を高める

**実装課題**:
1. バグ修正
2. エラーハンドリングの追加
3. ローディング状態の表示
4. パフォーマンス最適化（React.memoなど）
5. アクセシビリティの改善

**成果物**: 安定したアプリケーション

---

### Day 29 (30分): ドキュメント作成

**目標**: プロジェクトのドキュメント整備

**実装課題**:
1. README.mdの充実
   - プロジェクト概要
   - セットアップ方法
   - 使い方
   - スクリーンショット
2. コードコメントの最終確認
3. 型定義の整理

**成果物**: 完全なドキュメント

---

### Day 30 (30分): デプロイと振り返り

**目標**: アプリの公開と30日間の総括

**実装課題**:
1. GitHub PagesまたはVercelにデプロイ
   ```bash
   npm run build
   # デプロイコマンド
   ```
2. 30日間の振り返り
3. 今後の拡張案をリストアップ

**成果物**: 公開されたアプリとポートフォリオ

---

## 🎓 30日間で学べる技術

### React
- ✅ useState, useEffect などのフック
- ✅ コンポーネントの設計
- ✅ Props と State の管理
- ✅ イベントハンドリング
- ✅ 条件付きレンダリング
- ✅ リストのレンダリング

### TypeScript
- ✅ 型注釈
- ✅ インターフェース
- ✅ ジェネリクス
- ✅ 型推論

### JavaScript
- ✅ 配列メソッド（map, filter, reduce）
- ✅ スプレッド構文
- ✅ アロー関数
- ✅ 分割代入
- ✅ 非同期処理

### Web API
- ✅ LocalStorage
- ✅ Date オブジェクト
- ✅ FileReader / Blob

### CSS
- ✅ Flexbox / Grid
- ✅ レスポンシブデザイン
- ✅ アニメーション
- ✅ メディアクエリ

---

## 💡 継続のコツ

### 習慣化の戦略
1. **同じ時間に行う**: 毎日同じ時間帯に30分確保
2. **完璧を求めない**: できなかった日があっても気にしない
3. **記録する**: GitHubのコミット履歴を続ける
4. **小さな達成感**: 毎日何か動くものを作る

### 困ったときは
- **エラーが出たら**: エラーメッセージをよく読む
- **わからないことがあったら**: 公式ドキュメントを確認
- **計画通りいかなくても**: 柔軟に順序を変更してOK
- **興味のある機能**: 計画外でも追加してOK

### モチベーション維持
- **進捗を可視化**: GitHubの緑色のマスを増やす
- **SNSで共有**: 学んだことをツイート
- **実際に使う**: 自分の習慣を本当に記録する
- **他の人に見せる**: 完成したら友人に使ってもらう

---

## 🚀 30日後の拡張案

### 初級
- ダークモード対応
- 通知機能（ブラウザ通知API）
- 習慣のカテゴリ分け

### 中級
- バックエンド連携（Firebase）
- 複数デバイス間での同期
- PWA化（オフライン対応）

### 上級
- ソーシャル機能（友達の進捗を見る）
- AIによる習慣提案
- データ分析ダッシュボード

---

## 📚 参考リソース

### 公式ドキュメント
- [React 公式ドキュメント](https://react.dev/)
- [TypeScript ハンドブック](https://www.typescriptlang.org/docs/)
- [MDN Web Docs](https://developer.mozilla.org/)

### 学習サイト
- React の公式チュートリアル
- TypeScript の公式チュートリアル

### コミュニティ
- Stack Overflow
- GitHub Discussions
- Reactの日本語コミュニティ

---

## ✅ 最終チェックリスト

### 機能面
- [ ] 習慣の追加・削除・編集
- [ ] 日々のチェック機能
- [ ] カレンダー表示
- [ ] 統計情報の表示
- [ ] データの永続化
- [ ] データのエクスポート/インポート
- [ ] レスポンシブ対応

### コード品質
- [ ] TypeScriptの型定義が適切
- [ ] コメントが充実
- [ ] エラーハンドリング
- [ ] パフォーマンス最適化

### ドキュメント
- [ ] README.mdの作成
- [ ] 使い方の説明
- [ ] セットアップ手順

### デプロイ
- [ ] 本番ビルドが成功
- [ ] 公開URLで動作確認
- [ ] GitHubリポジトリが整理

---

**🎉 30日間、頑張ってください！継続は力なり 💪**